<Window x:Class="ProductManagerApp.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:ProductManagerApp.Views"
        Title="商品管理系统" Height="450" Width="700">

    <Window.Resources>
        <!-- Placeholder 转换器 -->
        <local:TextEmptyToVisibilityConverter x:Key="TextEmptyToVisibilityConverter"/>
    </Window.Resources>

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 顶部输入区域 -->
        <StackPanel Orientation="Horizontal" Margin="0 0 0 10">

            <!-- 商品名称 -->
            <Grid Margin="0,0,5,0">
                <TextBox Width="150" Padding="5"
                         Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}"
                         VerticalContentAlignment="Center"/>
                <TextBlock Text="请输入商品名称" Foreground="Gray" Margin="8,0,0,0"
                           VerticalAlignment="Center" IsHitTestVisible="False">
                    <TextBlock.Visibility>
                        <Binding Path="Name"
                                 Converter="{StaticResource TextEmptyToVisibilityConverter}"/>
                    </TextBlock.Visibility>
                </TextBlock>
            </Grid>

            <!-- 价格 -->
            <Grid Margin="0,0,5,0">
                <TextBox Width="100" Padding="5"
                         Text="{Binding Price, UpdateSourceTrigger=PropertyChanged}"
                         VerticalContentAlignment="Center"/>
                <TextBlock Text="请输入价格" Foreground="Gray" Margin="8,0,0,0"
                           VerticalAlignment="Center" IsHitTestVisible="False">
                    <TextBlock.Visibility>
                        <Binding Path="Price"
                                 Converter="{StaticResource TextEmptyToVisibilityConverter}"/>
                    </TextBlock.Visibility>
                </TextBlock>
            </Grid>

            <!-- 库存 -->
            <Grid Margin="0,0,5,0">
                <TextBox Width="80" Padding="5"
                         Text="{Binding Stock, UpdateSourceTrigger=PropertyChanged}"
                         VerticalContentAlignment="Center"/>
                <TextBlock Text="请输入库存" Foreground="Gray" Margin="8,0,0,0"
                           VerticalAlignment="Center" IsHitTestVisible="False">
                    <TextBlock.Visibility>
                        <Binding Path="Stock"
                                 Converter="{StaticResource TextEmptyToVisibilityConverter}"/>
                    </TextBlock.Visibility>
                </TextBlock>
            </Grid>

            <!-- 描述 -->
            <Grid Margin="0,0,5,0">
                <TextBox Width="120" Padding="5"
                         Text="{Binding Description, UpdateSourceTrigger=PropertyChanged}"
                         VerticalContentAlignment="Center"/>
                <TextBlock Text="请输入描述" Foreground="Gray" Margin="8,0,0,0"
                           VerticalAlignment="Center" IsHitTestVisible="False">
                    <TextBlock.Visibility>
                        <Binding Path="Description"
                                 Converter="{StaticResource TextEmptyToVisibilityConverter}"/>
                    </TextBlock.Visibility>
                </TextBlock>
            </Grid>

            <!-- 按钮绑定命令 -->
            <Button Content="添加" Width="80" Margin="5,0"
                    Command="{Binding AddCommand}"/>

            <Button Content="刷新" Width="80" Margin="5,0"
                    Command="{Binding RefreshCommand}"/>
        </StackPanel>

        <!-- 数据表格绑定 Products -->
        <DataGrid Grid.Row="1" Margin="0,10,0,0"
                  ItemsSource="{Binding Products}"
                  AutoGenerateColumns="True"
                  IsReadOnly="True"
                  SelectionMode="Single"/>
    </Grid>
</Window>



